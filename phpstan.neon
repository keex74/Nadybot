parameters:
  reportMaybesInPropertyPhpDocTypes: false
  level: 7
  paths:
    - src
  parallel:
    maximumNumberOfProcesses: 6
  phpVersion: 80200
  ignoreErrors:
    - '#Property [a-zA-Z0-9\\_]+::\$.* is never written, only read.#'
    - '#Static property [a-zA-Z0-9\\_]+::\$.* is never written, only read.#'
    - '#Parameter \#1 \$closure of function Amp\\async expects Closure#'
  stubFiles:
    - Stubs/EventSauce.ObjectHydrator.IterableList.php
    - Stubs/Illuminate.Contracts.Support.Arrayable.stub
    - Stubs/Illuminate.Contracts.Support.Jsonable.stub
    - Stubs/Illuminate.Contracts.Support.CanBeEscapedWhenCastToString.stub
    - Stubs/Illuminate.Support.Arrayable.stub
    - Stubs/Illuminate.Support.Collection.php
    - Stubs/Illuminate.Support.Enumerable.stub
    - Stubs/Illuminate.Support.ItemNotFoundException.stub
    - Stubs/ParserGenerator.Parser.php
    - Stubs/ParserGenerator.SyntaxTreeNode.Base.php
    - Stubs/ParserGenerator.SyntaxTreeNode.Branch.php
    - Stubs/ParserGenerator.SyntaxTreeNode.Leaf.php
    - Stubs/ParserGenerator.SyntaxTreeNode.Root.php
  sfpPsrLog:
    enableMessageStaticStringRule: true
    enableContextRequireExceptionKeyRule: true
    reportContextExceptionLogLevel: 'info'
    contextKeyOriginalPattern: '#\A[A-Za-z0-9-_]+\z#'
  shipmonkRules:
      allowComparingOnlyComparableTypes:
          enabled: false
      allowNamedArgumentOnlyInAttributes:
          enabled: false
      backedEnumGenerics:
          enabled: true
      classSuffixNaming:
          enabled: false
          superclassToSuffixMapping: []
      enforceClosureParamNativeTypehint:
          enabled: true
          allowMissingTypeWhenInferred: false
      enforceEnumMatch:
          enabled: true
      enforceIteratorToArrayPreserveKeys:
          enabled: true
      enforceListReturn:
          enabled: true
      enforceNativeReturnTypehint:
          enabled: true
      enforceReadonlyPublicProperty:
          enabled: false
      forbidArithmeticOperationOnNonNumber:
          enabled: true
          allowNumericString: true
      forbidAssignmentNotMatchingVarDoc:
          enabled: true
          allowNarrowing: true
      forbidCast:
          enabled: false
          blacklist: ['(array)', '(object)', '(unset)']
      forbidCheckedExceptionInCallable:
          enabled: false
          immediatelyCalledCallables:
              array_reduce: 1
              array_intersect_ukey: 2
              array_uintersect: 2
              array_uintersect_assoc: 2
              array_intersect_uassoc: 2
              array_uintersect_uassoc: [2, 3]
              array_diff_ukey: 2
              array_udiff: 2
              array_udiff_assoc: 2
              array_diff_uassoc: 2
              array_udiff_uassoc: [2, 3]
              array_filter: 1
              array_map: 0
              array_walk_recursive: 1
              array_walk: 1
              call_user_func: 0
              call_user_func_array: 0
              forward_static_call: 0
              forward_static_call_array: 0
              uasort: 1
              uksort: 1
              usort: 1
          allowedCheckedExceptionCallables: []
      forbidCheckedExceptionInYieldingMethod:
          enabled: false
      forbidCustomFunctions:
          enabled: false
          list: []
      forbidEnumInFunctionArguments:
          enabled: false
      forbidFetchOnMixed:
          enabled: false
      forbidIdenticalClassComparison:
          enabled: true
          blacklist: ['DateTimeInterface']
      forbidIncrementDecrementOnNonInteger:
          enabled: true
      forbidMatchDefaultArmForEnums:
          enabled: true
      forbidMethodCallOnMixed:
          enabled: true
      forbidNotNormalizedType:
          enabled: true
          checkDisjunctiveNormalForm: true
      forbidNullInAssignOperations:
          enabled: true
          blacklist: ['??=']
      forbidNullInBinaryOperations:
          enabled: true
          blacklist: ['===', '!==', '??']
      forbidNullInInterpolatedString:
          enabled: false
      forbidPhpDocNullabilityMismatchWithNativeTypehint:
          enabled: true
      forbidProtectedEnumMethod:
          enabled: true
      forbidReturnValueInYieldingMethod:
          enabled: true
          reportRegardlessOfReturnType: false
      forbidVariableTypeOverwriting:
          enabled: false
      forbidUnsetClassField:
          enabled: true
      forbidUselessNullableReturn:
          enabled: true
      forbidUnusedException:
          enabled: false
      forbidUnusedMatchResult:
          enabled: true
      requirePreviousExceptionPass:
          enabled: true
          reportEvenIfExceptionIsNotAcceptableByRethrownOne: true
      uselessPrivatePropertyDefaultValue:
          enabled: false
      uselessPrivatePropertyNullability:
          enabled: true
  strictRules:
    allRules: false
    disallowedLooseComparison: true
    booleansInConditions: false
    uselessCast: true
    requireParentConstructorCall: false
    disallowedConstructs: true
    overwriteVariablesWithLoop: true
    closureUsesThis: true
    matchingInheritedMethodNames: true
    numericOperandsInArithmeticOperators: true
    strictCalls: true
    switchConditionsMatchingType: true
    noVariableVariables: false
    strictArrayFilter: true
includes:
    - vendor/phpstan/phpstan-deprecation-rules/rules.neon
    - vendor/nadyita/phpstan-amp-file-rule/phpstan-amp-file-rule.neon
    - vendor/thecodingmachine/phpstan-safe-rule/phpstan-safe-rule.neon
    - vendor/struggle-for-php/sfp-phpstan-psr-log/rules.neon
    - vendor/phpstan/phpstan-strict-rules/rules.neon
    - vendor/shipmonk/phpstan-rules/rules.neon
